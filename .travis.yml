sudo: false

language: java

jdk:
- oraclejdk9

branches:
only:
- master

cache:
  directories:
  - "$HOME/.cache"

maven:
  version: 3.5.2

env:
  global:
    - secure: "H9QkLqCOSbS9GyPqBRQUeAdyOWdBwA6Lra1JgW/OgPlTlfXNHD1+BSNMMBAg1nSvbSpdJRW5JzAOZUXoJOBMIXvEfcsgPvwK497FYce139d21/3t2dQcWnSM0y1ZDN1M37r1arYSakTS+5Tgxvcg9cjWl2B9Y4G35dBSDNGfHW1BEpyeaf8qn5az+HALjDI+d5CoOPIiTtv9xGv0JS21Lgr6ncrko1pVSo4P0MXo3iFGmZjKUtQFeafVLW+pk+eRKa5a7o7O5/OzAz5gV+sp64gqDlfBaLR0b0epN0Z5+JkrfQiCFhiniS8bVVnhotZOPg7RLwMeyy24wM+WMm5YGEYWV5fn6kM8IseXZSW4ukFBTYBXwFzKRsQrOTQyEHrFOwtUizsC+YXMmdfv1BMx0OiSxPXKblvJ1pzV536QNqAsrkWGnf6+JDS1tyvpKTqD/vse9nfgsa5sdIcyC8VSXvbhaazdGKcWP0x2wTzJSf0MZ3v8VUMQK4J7XR0DOTZZ1TaI6KAX1UrV+EAa4Ul0Ui+UGe8dpWtMaH77vtowf0b/weX2f6PPSbEfynWcMmKax+aezZxp0FEvv5sLedMriJ4eMfBv0m0hjF+NgWwpCPchhiLCFGWIY5aJMFzltxLueNnXv2euY9gBqDFiN0j4NrMQYqmV3NOB5GEefiYlkcQ="
    - secure: "IjhoCaZXOd4gp35eYN+iOX4icTc3=sfuv5PPa1VTAF/ua7oMdqMQpa/Tsvh1qZg5yUwDs2TN0+I0IljjACVYFsWFYv/5jE42pbGLkxepot2K458azEuABkWqqr9sNLHHoE0qT30S8cUX9BywgXSZKlugqgPGsPkRmaDNCwIlGHEQqVvl6JijuQ9LWMyJ9amlsORWymnPqnLhXVfpPlrAnXZzhUIDa/RfZ1x37umHstwxW+2HbHn/BG6GrsyvZYqEGksL3t3OR0PPPNjjkObiYkQXAAmYlDv7IrMxz6nZg8AG17WRPlt58YAWFNsER+q/8zsBLzW01+YqPsZ3MQ9oCyG+U5aT2b7nUblint5hQsqRNORshK8lx5TIG3Ow2+3px3VAAfUyp0AbpO2CK5vN0mnoYZQOM/7VRCOERJR3SHQSdRRxvTRkpPct2RDVPzmmXQ7s0Ziq3u3/M3lgmdfVLF3mxjOt+wTS4HQeqy20ssCfumAjcdl22+Gc+rwR3w24zp97HVUiAgDhYja2qgoJqI5fIkXQWy9uMw/JKy+pi4msy5ibnzt/OQ0R7CpHv6NtF3ePIWDeyZGE9hpkhHxExQkxZ/D7NZ+k71OXOerWfgxbB1moZJxBbzsajUDfQu0dbLj8ool5fnEZnqOhzIe6ASgajFxQ3/VCvD9Wl0cUSsKg="
    - secure: "bFnx8YOoSuWbBkIVzjzGUyrHEqQRuTrf2n/jA+LmphbsqIfq4Fjl2iSkraul3yC/EhIZjOqdBbHzSYeYbkU96TZ3drpjUClOo0aYMB6EHX/OXW0rnLVD1z0BlJP9xo3hgQAee1zY02B1rB6+v3jTT1CywJbQGy5Hn7F9tq2AgAr0ulmKnKqB59Y8Yqbdrpkz1lEzogXX/peq2fDTcnNbz0BFjPNGg1bRtNjbKuumpxc6ix1Td3bUiXmDdNRVjmMEYm1owJkpBzmp68ujy9MVlOF53KFRxwrCMKJmoYf1bomuN+mOuIOTlC7TbZekJGWaGIOEEIEcdH9QfVxGTKf5njI6fFEFO50mV/11tqtP7gkPrYnMkLP+c/vWXovPoNn0FL3FOZY404wNDB0tgapa/HFs8+qcpxtWrJmQSI2kOdd3ujT+doHZxpNqDgY9qS0w40lYHDC18CPyMIyb51321gyz3/3qmmEP1bcbzurhzRCxU5OO33rlYNkwSiyvc/lDjc0RtpDheO0S4lF8jSX8PoV8iHE8C9uMKfDwnhA3BqrudO9l6aPVBWkwlG3AiFWMJEvli6Zg62X5Y2y8XqlLlJtV6UaZpC6Vvdu6Xs/ZxO/H7SWIBwVSQx+wqvUpi4YENDhFzW3AGq8B4T03kbYE2vbLB67PRAitvPBje+IE86M="
    - secure: "VhUen60somU/oE5PirXEIQF6EScarzLCv9UBXpKoWsyKhoWtcBERUEa0jWzfR/V4EIdqIV5wDC/C1yuIhW7h4n/NmhbkV7S0Eb0RYt5BW6IiRrDtZ6dVQrYsQc240kvdc7PcVwXq8c6CUet6T3x987coL/NrAd51l642nOTZnP0h+Vn8WitCPZuVzVMIUhpkHcaoFRh6rlvumRWXjCV6vphKvMLPzVj93PRXSsmYH9LeI0L751PKxrELYUntQ1zIl2yZ33NmjonUzQsykDkSjefkor1Cy+g/tHMOfqcND+jI3oyFx6hys/laNUK5zupiHDEPidBgR+9bRXTjmONKaGwJYdMFP7431myBFKDrqSdNLAJPFPq442UnNBJYBjtfr7e0ASahNCk8Phd5qebDQ+pcqUsBByziZA3loiMoyWV91EOenbAlOL7O168u7ffV4f5b15Zswh/3CMxRryyweuZmYbmwk7xZ4PolH5+SaMlPeVvkOTfF79ErXj+oOeTwQhs4INoN4rwb3OI+EqgxC/8HadsVNYcyBHUaqT/lkeL0sNCOr4Bz8dEaLlwQRWZuqnTaR5f+62lLB+T14TsjGi4oXHbLiykX2o7a7NsMKKnTW3UGwLAxiixIjdN7brf7PBndZU6OeyuApNiCXxxengWCoqyw90SORu9dvA3jcrA="
    - secure: "nuO1dB4JgZIOC3jS5TMhfdK6wSonFYiGjYdm6atIv+VDeCztP1/9psjVikYuZA3OBcUT9bElqPD7V0R7U686ls1fw7qprVbaSNFxRwDXRp5b9It0RIWWY1oI+2Ux+wb8SiF8DEDmiE9JQiThB3Aa1Vj62lGu3j+g4CX55Roc+hiWZJ5CvU7FxqyQbtoB/RQwc8h0/yl/JIJPuC2+g8Vcdz7oQVIamZQ8rdqUhJmeSk0HcaKz3K2j+DWMIDE2HjbTLG7RINeRMcqVW+sQ1a0DBvLECZCqfKKzFKgRUhxAl0wC7PmGSzSqea0im3BtkHvPvCLtMfUI/bzO8XyfsIbTCgwM1lB1rIgiPoqwh2RlntVRwUHMsRZn0ShsJ3MvwjLkFZ5tAtipOox/pAVmsCbPH/0uGImyL9iDG/YvH4jhwnHAjZzX5avEO8xqNtHZyEtzTEedIE2MDiPbeB5WdLRKQahtbz0Yjj8lBfRhkHfHGljX0nOviVVwFAfSqsLI17AQ+2PeGkxWX6nCGZPOKcWphEEE/znPRAVmHk8to9VIgy0t8T7BrVklmReiMKxVTetqhOyh1k6e/ThYQUFMow/NEZ6GkDrjNph/t9dTooDKc4n2aNpFJIO4vP2LuhoAYAWlCwZWojgVRb9zqd/qR/0j3pwWGAjnaEo5o1zMqVfEjdg="
    - MAVEN_HOME: "/usr/local/maven-3.5.2"
    - BUILD_REVISION: "1.0.0-SNAPSHOT"
    - TRAVIS_DIR: "$PWD/.travis"

after_success:
  - openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $TRAVIS_DIR/pubring.gpg.enc -out $TRAVIS_DIR/pubring.gpg -d
  - openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $TRAVIS_DIR/secring.gpg.enc -out $TRAVIS_DIR/secring.gpg -d
  - "$TRAVIS_DIR/publish.sh"
  - bash <(curl -s https://codecov.io/bash) || echo "Codecov did not collect coverage reports"